# End Screen Setup Guide

## Overview
The end screen displays a sequence of animations:
1. **Thank You Message** (6 seconds) - Thanks viewers and asks them to follow
2. **Social Links** (8 seconds) - Shows your social media links
3. **Top Chatters** (10 seconds) - Displays the 10 most active chatters
4. **End Screen** (‚àû) - Shows "END / FIN" 

Total duration: ~28 seconds before final screen

## Setup in OBS

### Step 1: Add Browser Source
1. In OBS, click the **+** button in your Sources panel
2. Select **Browser**
3. Name it "End Screen" or similar
4. Click **OK**

### Step 2: Configure Browser Source
- **Local file**: ‚úÖ Check this box
- **Local File Path**: Browse to `C:\Users\admin\Dev\Stream\meteorBot\public\endscreen.html`
- **Width**: `1920`
- **Height**: `1080`
- **FPS**: `60` (for smooth animations)
- **Custom CSS**: Leave empty
- **Shutdown source when not visible**: ‚úÖ Check this
- **Refresh browser when scene becomes active**: ‚úÖ Check this

### Step 3: Create End Screen Scene
1. Create a new scene called "End Screen"
2. Add the Browser Source you just created
3. Position it to fill the entire screen

## How to Use

### During Stream:
- Chat and stream as normal
- The bot automatically tracks all messages

### When Ending Stream:

1. **Export the data** (use one of these commands in chat):
   - `!endscreen`
   - `!exportchatters`
   - `!saveendscreen`

2. **Switch to End Screen scene in OBS**
   - The animations will automatically play in sequence
   - Wait for the full sequence (~28 seconds)
   - The final "END" screen will remain

3. **End your stream**

## Customization

### Edit Social Links
Open `public/endscreen.html` and find the "Social Links Screen" section:

```html
<div class="social-link">üåê meteor314.com</div>
<div class="social-link">üí¨ Discord</div>
<div class="social-link">üì∫ YouTube.com/@Meteor314</div>
<div class="social-link">üê¶ Twitter/X @Meteor314</div>
```

### Edit Thank You Message
Find the "Thank You Screen" section and modify the text:

```html
<p>
    The stream is finished! Thanks for being here!<br>
    If you enjoyed the stream, don't forget to follow! ‚ù§Ô∏è
</p>
```

### Adjust Timing
To change animation durations, modify the animation timings in the CSS:

```css
.thank-you-screen { animation: fadeInOut 6s ease-in-out 0s; }
.social-screen { animation: zoomFadeInOut 8s ease-in-out 6s; }
.chatters-screen { animation: zoomFadeInOut 10s ease-in-out 14s; }
.end-screen { animation: zoomFadeIn 4s ease-in-out 24s; }
```

The last number is the delay (in seconds) before the animation starts.

### Change Colors
Modify the gradient background:

```css
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
```

Use any gradient generator online to create your custom colors.

## Troubleshooting

### No chatters showing?
- Make sure you ran `!endscreen` command before switching scenes
- Check that `public/topchatters.json` file exists
- The file is created automatically when you use the command

### Animations not playing?
- Make sure "Refresh browser when scene becomes active" is checked
- Verify FPS is set to 60
- Try manually refreshing the source (right-click ‚Üí Refresh)

### Top chatters data is old?
- The data is saved when you run `!endscreen`
- Run the command again to update with latest data

## Tips

- **Test the timing**: Switch to the scene during a test stream to see the full sequence
- **Plan ahead**: Export the data (`!endscreen`) a few minutes before ending
- **Multiple uses**: You can use the command multiple times; it overwrites the previous data
- **Archive data**: The JSON file can be backed up to keep records of past streams

## Animation Sequence Timeline

| Time | Screen | Content |
|------|--------|---------|
| 0-6s | Thank You | Fade in/out with thank you message |
| 6-14s | Social Links | Zoom fade in/out with social media |
| 14-24s | Top Chatters | Zoom fade in/out with leaderboard |
| 24s+ | End | Zoom in "END / FIN" (stays forever) |

## File Structure

```
meteorBot/
‚îî‚îÄ‚îÄ public/
    ‚îú‚îÄ‚îÄ endscreen.html        # Main HTML file (OBS source)
    ‚îú‚îÄ‚îÄ topchatters.json      # Generated by !endscreen command
    ‚îî‚îÄ‚îÄ END_SCREEN_SETUP.md   # This file
```
